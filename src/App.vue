<template>
  <!-- ğŸ  App.vue - ä¸»æ‡‰ç”¨ç¨‹å¼çµ„ä»¶ï¼Œä½¿ç”¨Bootstrapå¯¦ç¾æ»¿ç‰ˆç„¡ç©ºéš™ä½ˆå±€ -->
  <div id="app" class="d-flex flex-column vh-100">
    
    <!-- ğŸ“¥ è¼‰å…¥è¦†è“‹å±¤ (Loading Overlay) -->
    <LoadingOverlay 
      :isVisible="isLoading" 
      :loadingText="loadingText"
      :progress="loadingProgress"
      :showProgress="showLoadingProgress"
      :subText="loadingSubText" />

    <!-- ğŸ“± ä¸»è¦å…§å®¹å€åŸŸ (Main Content Area) - ä½¿ç”¨Bootstrap flex-grow-1ä½”æ»¿å‰©é¤˜ç©ºé–“ -->
    <div class="flex-grow-1 d-flex flex-column overflow-hidden">
      
      <!-- ğŸš€ è·¯ç”±è¦–åœ– - ä½¿ç”¨Bootstrapä½ˆå±€ -->
      <div class="flex-grow-1">
        <router-view />
      </div>
    </div>

    <!-- ğŸ¦¶ é è…³å€åŸŸ (Footer Area) - Bootstrap sticky footerï¼Œç·Šè²¼åº•éƒ¨ç„¡ç©ºéš™ -->
    <footer class="my-app-footer bg-dark text-light py-2 mt-auto">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-6 text-md-start text-center">
            <small>Â© 2024 ç©ºé–“åˆ†æè¦–è¦ºåŒ–å¹³å°. All rights reserved.</small>
          </div>
          <div class="col-md-6 text-md-end text-center">
            <small>
              Powered by <a href="https://vuejs.org/" target="_blank" class="text-light text-decoration-none">Vue.js</a> & 
              <a href="https://leafletjs.com/" target="_blank" class="text-light text-decoration-none">Leaflet</a> & 
              <a href="https://d3js.org/" target="_blank" class="text-light text-decoration-none">D3.js</a>
            </small>
          </div>
        </div>
      </div>
    </footer>
  </div>
</template>

<script>
/**
 * ğŸ  App.vue - æ‡‰ç”¨ç¨‹å¼ä¸»çµ„ä»¶
 * 
 * åŠŸèƒ½èªªæ˜ï¼š
 * 1. ğŸ“± æä¾›æ‡‰ç”¨ç¨‹å¼æ•´é«”æ¡†æ¶
 * 2. ğŸ“¥ ç®¡ç†å…¨åŸŸè¼‰å…¥ç‹€æ…‹
 * 3. ğŸ¦¶ æä¾›æ‡‰ç”¨ç¨‹å¼é è…³
 * 4. ğŸš€ ç®¡ç†è·¯ç”±å°èˆª
 */
import { ref } from 'vue'

// ğŸ§© çµ„ä»¶å¼•å…¥
import LoadingOverlay from './components/LoadingOverlay.vue'

export default {
  name: 'App',
  
  /**
   * ğŸ§© çµ„ä»¶è¨»å†Š (Component Registration)
   */
  components: {
    LoadingOverlay
  },
  
  /**
   * ğŸ”§ çµ„ä»¶è¨­å®šå‡½æ•¸ (Component Setup)
   */
  setup() {
    // â³ è¼‰å…¥ç‹€æ…‹ (Loading States)
    const isLoading = ref(false)
    const loadingText = ref('è¼‰å…¥ä¸­...')
    const loadingProgress = ref(0)
    const showLoadingProgress = ref(false)
    const loadingSubText = ref('')

    // ğŸ“¤ è¿”å›éŸ¿æ‡‰å¼æ•¸æ“šå’Œå‡½æ•¸ (Return Reactive Data and Functions)
    return {
      // â³ è¼‰å…¥ç‹€æ…‹
      isLoading,
      loadingText,
      loadingProgress,
      showLoadingProgress,
      loadingSubText
    }
  }
}
</script>

<style>
/**
 * ğŸ¨ æ‡‰ç”¨ç¨‹å¼å…¨åŸŸæ¨£å¼ (Application Global Styles)
 * 
 * å¼•å…¥å…±ç”¨CSSä¸¦å®šç¾©å…¨åŸŸæ¨£å¼ï¼Œä¸»è¦ä½¿ç”¨Bootstrapä½ˆå±€ç³»çµ±
 */
@import './assets/css/common.css';

/* ğŸ“± å…¨åŸŸé˜²æ­¢é¸å–æ¨£å¼ (Global No-Select Style) - æ‹–æ›³æ™‚ä½¿ç”¨ */
.my-no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* ğŸ”§ æ‹–æ‹‰èª¿æ•´å™¨æ¨£å¼ (Resize Handle Styles) */
/* ğŸ”§ å‚ç›´æ‹–æ›³èª¿æ•´å™¨ (Vertical Resizer) */
.my-resizer-vertical {
  min-width: 4px;
  max-width: 4px;
  cursor: col-resize;
  background-color: #dee2e6;
  transition: all 0.2s ease;
}

.my-resizer-vertical:hover,
.my-resizer-vertical.dragging {
  min-width: 6px;
  max-width: 6px;
  background-color: #007bff;
}

/* ğŸ”§ æ°´å¹³æ‹–æ›³èª¿æ•´å™¨ (Horizontal Resizer) */
.my-resizer-horizontal {
  min-height: 4px;
  max-height: 4px;
  cursor: row-resize;
  background-color: #dee2e6;
  transition: all 0.2s ease;
}

.my-resizer-horizontal:hover,
.my-resizer-horizontal.dragging {
  min-height: 6px;
  max-height: 6px;
  background-color: #007bff;
}

/* ğŸ”§ æ‹–æ‹‰æ™‚çš„å…¨åŸŸæ¨£å¼ (Global Dragging Styles) */
body.my-no-select {
  cursor: inherit !important;
}

body.my-no-select * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
}

/* ğŸ“± éŸ¿æ‡‰å¼è¨­è¨ˆ (Responsive Design) - ä½¿ç”¨Bootstrapæ–·é» */
@media (max-width: 768px) {
  .my-resizer-vertical {
    min-width: 6px;
    max-width: 6px;
  }
  
  .my-resizer-horizontal {
    min-height: 6px;
    max-height: 6px;
  }
  
  .my-resizer-vertical:hover,
  .my-resizer-vertical.dragging {
    min-width: 8px;
    max-width: 8px;
  }
  
  .my-resizer-horizontal:hover,
  .my-resizer-horizontal.dragging {
    min-height: 8px;
    max-height: 8px;
  }
}
</style>
